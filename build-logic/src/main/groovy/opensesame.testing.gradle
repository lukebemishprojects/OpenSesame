plugins {
    id 'java-library'
    id 'opensesame.publishing'
}

dependencies {
    testRuntimeOnly libs.junit.engine
    testImplementation libs.junit.api

    testImplementation project(':testtargets')
    testRuntimeOnly sourceSets.test.output
    testRuntimeOnly libs.junit.engine
    testRuntimeOnly libs.junit.api
}

def openSesameExtension = project.extensions.getByName('openSesameConvention')

def javaVersions = [17, 21, 22]

test {
    useJUnitPlatform()

    testLogging {
        showStandardStreams = true
        exceptionFormat = 'full'
        showCauses = true
        showStackTraces = true
        events = ['passed', 'failed', 'skipped']
    }
}
